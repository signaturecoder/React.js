(this["webpackJsonpairline-app"]=this["webpackJsonpairline-app"]||[]).push([[0],{177:function(e,t,a){e.exports=a(349)},182:function(e,t,a){},183:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),s=a(10),i=(a(182),a(53)),o=(a(183),a(350)),m=a(353),u=a(129),h=a(13),p=a(66),d=a(40),E=a(97),g=a(14),f=a.n(g),b=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){f.a.get("".concat("http://localhost:3000","/passengerList")).then((function(e){var t=e.data;l(t)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Passenger List"),r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight Id"),r.a.createElement("th",null,"Passenger Name"),r.a.createElement("th",null,"Seat Number"),r.a.createElement("th",null,"Wheel Chair"),r.a.createElement("th",null,"Infant Facility")),a.map((function(e){var t=e.id,a=e.flightId,n=e.pName,l=e.seat_no,c=e.wheelChair,s=e.infantFacility;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c?"Yes":"No"),r.a.createElement("td",null,s?"Yes":"No"))})))))},y=a(25),v=a(17),O=a(18),S=a(20),C=a(19),I=a(28),j=a(21),N=a(355),w=a(352),P=a(354);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;"passportNum"===n||"expiry_date"===n?a.setState({passport:x({},a.state.passport,Object(y.a)({},n,t))}):a.setState(x({},a.state,Object(y.a)({},n,t)))},a.handleSubmit=function(e){var t={flightId:a.state.flightId,pName:a.state.pName,passport:{passportNum:a.state.passport.passportNum,expiry_date:a.state.passport.expiry_date},address:a.state.address};e.preventDefault(),f.a.post("".concat("http://localhost:3000","/passengerList"),t).then((function(e){a.setState({issubmitted:!0})})),N.a.success("Successfully Passenger Added")},a.state={flightId:"",pName:"",passport:{passportNum:"",expiry_date:""},address:"",issubmitted:!1},a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.issubmitted?r.a.createElement(i.a,{to:"/admin/viewPassenger"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(s.b,{to:"/admin/viewPassenger"},"View Passenger"),r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"Add-Passenger-form",style:{maxWidth:"300px"}},r.a.createElement("h3",{style:{color:"Red"}},"Add Passenger Form"),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"flightId",placeholder:"Enter flight Id",value:this.state.flightId,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"pName",placeholder:"Enter Name",value:this.state.pName,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"passportNum",placeholder:"Enter Passport Number",value:this.state.passport.passportNum,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"expiry_date",placeholder:"Enter Expiry Date ",value:this.state.passport.expiry_date,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"address",placeholder:"Enter Address ",value:this.state.address,onChange:this.handleInputChange}),r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"feedback-form-button"},"Submit"))))}}]),t}(n.Component);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).state={wheelChair:!1,infantFacility:!1,meals:"",shopping_items:""},a.handleChange=a.handleChange.bind(Object(I.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,a=e.target.name;this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,Object(y.a)({},a,t)))}},{key:"handleSubmit",value:function(e){var t=this.props.match.params,a={meals:this.state.meals,shopping_items:this.state.shopping_items,wheelChair:this.state.wheelChair,infantFacility:this.state.infantFacility};e.preventDefault(),f.a.patch("".concat("http://localhost:3000","/flightList/").concat(t.id),a).then((function(e){})),N.a.success("Successfully Services Updated")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"Add-Passenger-form",style:{maxWidth:"300px"}},r.a.createElement("h3",{style:{color:"Red"}},"Add Ancillary Services"),r.a.createElement("label",null,"Choose Services"),r.a.createElement(w.a.Item,null,"wheel Chair",r.a.createElement("input",{name:"wheelChair",type:"checkbox",checked:this.state.wheelChair,onChange:this.handleChange})),r.a.createElement(w.a.Item,null,"Infant Facility",r.a.createElement("input",{name:"infantFacility",type:"checkbox",checked:this.state.infantFacility,onChange:this.handleChange})),r.a.createElement("label",null,"Choose Meals"),r.a.createElement(w.a.Item,null,r.a.createElement("select",{name:"meals",value:this.state.meals,onChange:this.handleChange},r.a.createElement("option",{value:"South Indian"},"South Indian"),r.a.createElement("option",{value:"North Indian"},"North Indian"),r.a.createElement("option",{value:"Chinese"},"Chinese"))),r.a.createElement("label",null,"Choose Shopping Items"),r.a.createElement(w.a.Item,null,r.a.createElement("select",{name:"shopping_items",value:this.state.shopping_items,onChange:this.handleChange},r.a.createElement("option",{value:"Bags"},"Bags"),r.a.createElement("option",{value:"Shoes"},"Shoes"))),r.a.createElement(w.a.Item,null,r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"feedback-form-button"},"Submit"))))}}]),t}(n.Component),A=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){f.a.get("".concat("http://localhost:3000","/passengerList")).then((function(e){var t=e.data;l(t)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Passenger List"),r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Passport Number"),r.a.createElement("th",null,"Expiry Date"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Edit")),a.map((function(e){var t=e.id,a=e.pName,n=e.passport,l=e.address;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n.passportNum),r.a.createElement("td",null,n.expiry_date),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/admin/editPassenger/"+t},"Edit"))))})))))},M=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={flights:[]},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("http://localhost:3000","/flightList")).then((function(t){var a=t.data;e.setState({flights:a})}))}},{key:"renderFlightTable",value:function(){return this.state.flights.map((function(e,t){var a=e.id,n=e.flightId,l=e.flightName,c=e.meals,i=e.wheelChair,o=e.shopping_items,m=e.infantFacility;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,i?"Yes":"No"),r.a.createElement("td",null,m?"Yes":"No"),r.a.createElement("td",null,r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/admin/addPassenger"},"Manage"))),r.a.createElement("td",null,r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/admin/addServices/"+a},"Update"))))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Flight List"),r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight Number"),r.a.createElement("th",null,"Flight Name"),r.a.createElement("th",null,"Special Meals"),r.a.createElement("th",null,"Shopping Items"),r.a.createElement("th",null,"wheelChair"),r.a.createElement("th",null,"InfantFacility"),r.a.createElement("th",null,"Manage Passengers"),r.a.createElement("th",null,"Manage Services")),this.renderFlightTable())))}}]),t}(n.Component);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;"passportNum"===n||"expiry_date"===n?a.setState({passport:T({},a.state.passport,Object(y.a)({},n,t))}):a.setState(T({},a.state,Object(y.a)({},n,t)))},a.handleSubmit=function(e){var t=a.props.match.params,n={flightId:a.state.flightId,pName:a.state.pName,passport:{passportNum:a.state.passport.passportNum,expiry_date:a.state.passport.expiry_date},address:a.state.address};e.preventDefault(),f.a.patch("".concat("http://localhost:3000","/passengerList/").concat(t.id),n).then((function(e){a.setState({issubmitted:!0})})),N.a.success("Successfully Passenger Updated")},a.state={flightId:"",pName:"",passport:{passportNum:"",expiry_date:""},address:"",issubmitted:!1},a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.issubmitted?r.a.createElement(i.a,{to:"/admin/viewPassenger"}):r.a.createElement(r.a.Fragment,null),r.a.createElement(s.b,{to:"/admin/viewPassenger"},"View Passenger"),r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"Add-Passenger-form",style:{maxWidth:"300px"}},r.a.createElement("h3",{style:{color:"Red"}},"Edit Passenger Form"),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"flightId",placeholder:"Enter flight Id",value:this.state.flightId,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"pName",placeholder:"Enter Name",value:this.state.pName,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"passportNum",placeholder:"Enter Passport Number",value:this.state.passport.passportNum,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"expiry_date",placeholder:"Enter Expiry Date ",value:this.state.passport.expiry_date,onChange:this.handleInputChange})),r.a.createElement(w.a.Item,null,r.a.createElement(P.a,{type:"text",name:"address",placeholder:"Enter Address ",value:this.state.address,onChange:this.handleInputChange}),r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"feedback-form-button"},"Submit"))))}}]),t}(n.Component),B=function(){var e=o.a.Header,t=o.a.Content,a=o.a.Footer,n=Object(i.g)(),l=localStorage.getItem("role");return"admin"!==l?r.a.createElement(i.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"layout",sm:480},r.a.createElement(e,null,r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/admin"},"AIRLINE EXPRESS")),r.a.createElement(m.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},r.a.createElement(m.a.Item,{key:"3"},r.a.createElement(s.b,{to:"/admin/passengerList"},"Passenger List")),r.a.createElement(m.a.Item,{key:"4"},r.a.createElement(s.b,{to:"/admin/flightList"},"Flight List")),r.a.createElement(m.a.Item,{key:"6"},r.a.createElement(u.a,{onClick:function(){localStorage.removeItem("role"),n.push("/")}},r.a.createElement(h.a,{type:"logout"}),"Logout")))),r.a.createElement(t,{style:{padding:"0 50px",height:"340"}},r.a.createElement("div",{style:{background:"#fff",padding:24}},r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:24,lg:{span:4}},r.a.createElement("img",{alt:"example",src:"https://secure.webtoolhub.com/static/resources/icons/set108/26ce8716.png",style:{width:"180px",height:"180px"}})),r.a.createElement(d.a,{xs:24,lg:{span:8}},r.a.createElement("div",{className:"role"},"WELCOME, ",l.toUpperCase()))),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin/passengerList",component:b}),r.a.createElement(i.b,{path:"/admin/addPassenger",component:F}),r.a.createElement(i.b,{path:"/admin/editPassenger/:id",component:W}),r.a.createElement(i.b,{path:"/admin/addServices/:id",component:L}),r.a.createElement(i.b,{path:"/admin/viewPassenger/",component:A}),r.a.createElement(i.b,{path:"/admin/flightList",component:M})))),r.a.createElement(a,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")))},H=a(351),R=a(127),U=a.n(R),K=a(166),Y=a(167),X=a.n(Y),G=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(y.a)({},n,t))},a.authenticateUser=function(){var e=Object(K.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("http://localhost:3000","/users"),{params:{uname:t.userName,password:t.password}}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault();var t={userName:a.state.userName,password:a.state.password};a.authenticateUser(t).then((function(e){1===e.data.length?(localStorage.setItem("role",e.data[0].role),a.setState({islogged:!0})):N.a.error("Credentials Mis-match")}))},a.responseGoogle=function(e){localStorage.setItem("role","staff"),a.setState({islogged:!0})},a.state={userName:"",password:"",islogged:!1},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("role");return"admin"===e?r.a.createElement(i.a,{to:"/admin"}):"staff"===e?r.a.createElement(i.a,{to:"/staff"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{className:"login-form"},r.a.createElement("h1",null,"Login Form"),r.a.createElement(w.a.Item,null,r.a.createElement("label",null,"Enter Username",r.a.createElement(P.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),name:"userName",placeholder:"Username",value:this.state.userName,onChange:this.handleInputChange}))),r.a.createElement(w.a.Item,null,r.a.createElement("label",null,"Enter Password",r.a.createElement(P.a,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),name:"password",type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputChange}))),r.a.createElement(w.a.Item,null,r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},"Log in")),r.a.createElement(w.a.Item,null,r.a.createElement(X.a,{clientId:"399945929502-qfr5o9c0svdjvut34arluqa47jt8js54.apps.googleusercontent.com",buttonText:"GOOGLE",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,className:"login-form-button"}))))}}]),t}(n.Component),q=function(){var e=o.a.Header,t=o.a.Content,a=o.a.Footer,n=H.a.Meta;return r.a.createElement(o.a,{className:"layout"},r.a.createElement(e,null,r.a.createElement("h3",{className:"logo"},"AIRLINE EXPRESS")),r.a.createElement(t,{style:{padding:"0 50px",height:"520px"}},r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:{span:24},lg:{span:12}},r.a.createElement(H.a,{cover:r.a.createElement("img",{alt:"example",src:"https://images.livemint.com/img/2019/08/22/600x338/9e24ab64-a71d-11e9-b16d-bd945e55a214_1563989986818_1566495367055.jpg"})},r.a.createElement(n,{title:"INDIGO AIRLINE"}))),r.a.createElement(d.a,{xs:{span:24},lg:{span:12}}," ",r.a.createElement(G,null)))),r.a.createElement(a,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))},J=a(49),V="ADD_TO_PAX_SEATMAP",z="REMOVE_FROM_PAX_SEATMAP",$="CLEAR_PAX_SEATMAP";function Q(e,t,a,n){return{type:V,payload:{paxId:e,seatNo:t,wheelChair:a,infantFacility:n}}}var Z=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(S.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={flights:[]},a.handlePassenger=function(){console.log("PASSENGER"),a.props.clearPaxSeatMap()},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("http://localhost:3000","/flightList")).then((function(t){var a=t.data;e.setState({flights:a})}))}},{key:"renderFlightTable",value:function(){var e=this,t=this.props.updateServices;return this.state.flights.map((function(a,n){var l=a.flightId,c=a.flightName,i=a.flight_from,o=a.flight_to,m=a.start_time,h=a.end_time;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,o),r.a.createElement("td",null,m),r.a.createElement("td",null,h),r.a.createElement("td",null,t?r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/staff/inFlight/managePassengers/".concat(l,"/").concat(t)},"Manage")):r.a.createElement(u.a,{onClick:e.handlePassenger},r.a.createElement(s.b,{to:"/staff/checkIn/managePassengers/"+l},"Manage"))))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Flight List"),r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight Number"),r.a.createElement("th",null,"Flight Name"),r.a.createElement("th",null,"Source"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Arrival"),r.a.createElement("th",null,"Departure"),r.a.createElement("th",null,"Passengers")),this.renderFlightTable())))}}]),t}(n.Component),ee=Object(J.b)((function(e){return{passengerSeatMap:e.paxSeatMap.passengerSeatMap}}),(function(e){return{clearPaxSeatMap:function(){return e({type:$})}}}))(Z),te=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).getSeatNoFromSeatLocation=function(e){var t=String(e).charAt(0),a=String(e).substring(1);switch(t){case"A":t=0;break;case"B":t=1;break;case"C":t=2;break;case"D":t=3;break;case"E":t=4}return 5*(a-1)+t},a.state={passengers:[]},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("http://localhost:3000","/passengerList/?flightId=").concat(this.props.match.params.id)).then((function(t){var a=t.data;a.filter((function(e){return""!==e.seat_no})).map((function(t){return{paxId:t.id,seatNo:e.getSeatNoFromSeatLocation(t.seat_no),wheelChair:t.wheelChair,infantFacility:t.infantFacility}})).map((function(t){var a=t.paxId,n=t.seatNo,r=t.wheelChair,l=t.infantFacility;e.props.addToPaxSeatMap(a,n,r,l)})),e.setState({passengers:a})}))}},{key:"renderPassengerTable",value:function(){var e=this.props.match.params.services;return this.state.passengers.map((function(t,a){var n=t.id,l=t.flightId,c=t.pName,i=t.seat_no,o=t.meals,m=t.wheelChair,h=t.shopping_items,p=t.infantFacility;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,i?"Yes":"No"),r.a.createElement("td",null,i),r.a.createElement("td",null,o),r.a.createElement("td",null,h),r.a.createElement("td",null,m?"Yes":"No"),r.a.createElement("td",null,p?"Yes":"No"),r.a.createElement("td",null,e?r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/staff/inFlight/flightServices/".concat(n)},"Add Services")):r.a.createElement(u.a,null,r.a.createElement(s.b,{to:"/staff/checkIn/seatMatrix/".concat(n,"/").concat(l)},"Check In"))))}))}},{key:"render",value:function(){var e=this.props.match.params.services;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," Manage Passenger List "),r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight Number"),r.a.createElement("th",null,"Passenger Name"),r.a.createElement("th",null,"Checking Status"),r.a.createElement("th",null,"Seat Number"),r.a.createElement("th",null,"Special Meals"),r.a.createElement("th",null,"Shopping Items"),r.a.createElement("th",null,"wheelChair"),r.a.createElement("th",null,"InfantFacility"),r.a.createElement("th",null,e?"Update Services":"Check in")),this.renderPassengerTable())))}}]),t}(n.Component);var ae=Object(J.b)((function(e){return{passengerSeatMap:e.paxSeatMap.passengerSeatMap}}),(function(e){return{addToPaxSeatMap:function(t,a,n,r){return e(Q(t,a,n,r))}}}))(te),ne=function(e){function t(){return Object(v.a)(this,t),Object(S.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee,{updateServices:!0}))}}]),t}(n.Component);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var le=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).state={wheelChair:!1,infantFacility:!1,meals:"",shopping_items:""},a.handleChange=a.handleChange.bind(Object(I.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,a=e.target.name;this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,Object(y.a)({},a,t)))}},{key:"handleSubmit",value:function(e){var t=this.props.match.params,a={meals:this.state.meals,shopping_items:this.state.shopping_items,wheelChair:this.state.wheelChair,infantFacility:this.state.infantFacility};e.preventDefault(),f.a.patch("".concat("http://localhost:3000","/passengerList/").concat(t.id),a).then((function(e){console.log(e.data)})),N.a.success("Successfully Services Updated"),this.props.history.push("/staff/inFlight")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"InFlight Services"),r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"Add-Passenger-form",style:{maxWidth:"300px"}},r.a.createElement("h3",{style:{color:"Red"}},"Add Ancillary Services"),r.a.createElement("label",null,"Choose Services"),r.a.createElement(w.a.Item,null,"wheel Chair",r.a.createElement("input",{name:"wheelChair",type:"checkbox",checked:this.state.wheelChair,onChange:this.handleChange})),r.a.createElement(w.a.Item,null,"Infant Facility",r.a.createElement("input",{name:"infantFacility",type:"checkbox",checked:this.state.infantFacility,onChange:this.handleChange})),r.a.createElement("label",null,"Choose Meals"),r.a.createElement(w.a.Item,null,r.a.createElement("select",{name:"meals",value:this.state.meals,onChange:this.handleChange},r.a.createElement("option",{value:"South Indian"},"South Indian"),r.a.createElement("option",{value:"North Indian"},"North Indian"),r.a.createElement("option",{value:"Chinese"},"Chinese"))),r.a.createElement("label",null,"Choose Shopping Items"),r.a.createElement(w.a.Item,null,r.a.createElement("select",{name:"shopping_items",value:this.state.shopping_items,onChange:this.handleChange},r.a.createElement("option",{value:"Bags"},"Bags"),r.a.createElement("option",{value:"Shoes"},"Shoes"))),r.a.createElement(w.a.Item,null,r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"feedback-form-button"},"Submit"))))}}]),t}(n.Component),ce=function(e){var t,a=!1;switch(e.occupied){case"BLOCKED":t="green",a=!0;break;case"BLOCKED WITH WHEELCHAIR":t="red";break;case"BLOCKED WITH INFANT":t="blue";break;case"BLOCKED WITH BOTH":t="orange";break;case"MODIFY":t="yellow";break;default:t="grey"}return r.a.createElement("button",{className:"square",disabled:a,style:{backgroundColor:t,margin:"15px"},onClick:e.onClickSeat})},se=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(S.a)(this,Object(C.a)(t).call(this,e))).handleSeat=function(e){var t="",n=a.props.match.params.pid,r=a.state.particularPassenger;a.props.passengerSeatMap.some((function(t){return t.seatNo===e}))?a.props.removeFromPaxSeatMap(Number(n)):(a.props.addToPaxSeatMap(Number(n),e,r.wheelChair,r.infantFacility),t=a.calculateSeat(e)),f.a.patch("".concat("http://localhost:3000","/passengerList/").concat(n),{seat_no:t,isChecked:""!==t}).then((function(e){return console.log(e)}));var l=a.state.particularPassenger;l.seat_no=""===t?"":a.calculateSeat(e),a.setState({particularPassenger:l})},a.displaySeatMatrix=function(){for(var e=a.props.match.params.pid,t=a.props.passengerSeatMap,n=Array(50).fill(null),l=0;l<t.length;l++)e!==t[l].paxId&&(n[t[l].seatNo]="BLOCKED",t[l].wheelChair&&!t[l].infantFacility?n[t[l].seatNo]="BLOCKED WITH WHEELCHAIR":t[l].infantFacility&&!t[l].wheelChair?n[t[l].seatNo]="BLOCKED WITH INFANT":t[l].wheelChair&&t[l].infantFacility&&(n[t[l].seatNo]="BLOCKED WITH BOTH")),e===String(t[l].paxId)&&(n[t[l].seatNo]="MODIFY");for(var c=0,s=[],i=function(e){c++,s.push(r.a.createElement("tr",{key:e},r.a.createElement("td",null,c),r.a.createElement("td",null,r.a.createElement(ce,{value:e,occupied:n[e],onClickSeat:function(){return a.handleSeat(e)}})),r.a.createElement("td",null,r.a.createElement(ce,{value:e+1,occupied:n[e+1],onClickSeat:function(){return a.handleSeat(e+1)}})),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement(ce,{value:e+2,occupied:n[e+2],onClickSeat:function(){return a.handleSeat(e+2)}})),r.a.createElement("td",null,r.a.createElement(ce,{value:e+3,occupied:n[e+3],onClickSeat:function(){return a.handleSeat(e+3)}})),r.a.createElement("td",null,r.a.createElement(ce,{value:e+4,occupied:n[e+4],onClickSeat:function(){return a.handleSeat(e+4)}}))))},o=0;o<50;o+=5)i(o);return s},a.state={particularPassenger:{},seat_no:""},a}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("http://localhost:3000","/passengerList/").concat(this.props.match.params.pid)).then((function(t){e.setState({particularPassenger:t.data})}))}},{key:"calculateSeat",value:function(e){var t=e/5;return["A","B","C","D","E"][e%5]+Math.floor(1+t)}},{key:"renderParticularPassengerDetail",value:function(){var e=this.state.particularPassenger,t=e.id,a=e.flightId,n=e.pName,l=e.isChecked,c=e.seat_no,s=e.wheelChair,i=e.infantFacility;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l?"Yes":"No"),r.a.createElement("td",null,c),r.a.createElement("td",null,s?"Yes":"No"),r.a.createElement("td",null,i?"Yes":"No"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"passenger-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Flight Number"),r.a.createElement("th",null,"Passenger Name"),r.a.createElement("th",null,"Checking Status"),r.a.createElement("th",null,"Seat Number"),r.a.createElement("th",null,"wheelChair"),r.a.createElement("th",null,"InfantFacility")),this.renderParticularPassengerDetail())),r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:24,lg:12},r.a.createElement("table",{className:"seat-matrix"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{className:"seat-header"},"A"),r.a.createElement("th",{className:"seat-header"},"B"),r.a.createElement("th",{className:"seat-header",style:{padding:"10px"}}),r.a.createElement("th",{className:"seat-header"},"C"),r.a.createElement("th",{className:"seat-header"},"D"),r.a.createElement("th",{className:"seat-header"},"E")),this.displaySeatMatrix()))),r.a.createElement(d.a,{xs:24,lg:12},r.a.createElement("div",{className:"seat-indicator"},r.a.createElement(ce,{occupied:"MODIFY"}),r.a.createElement("b",null,"Change Seat"),r.a.createElement(ce,{occupied:"BLOCKED"}),r.a.createElement("b",null,"Booked"),r.a.createElement(ce,{occupied:"BLOCKED WITH WHEELCHAIR"}),r.a.createElement("b",null," Passenger Required W/C"),r.a.createElement(ce,{occupied:"BLOCKED WITH INFANT"}),r.a.createElement("b",null," Passenger with INF"),r.a.createElement(ce,{occupied:"BLOCKED WITH BOTH"}),r.a.createElement("b",null,"Passenger with INF and Requiring W/C")))))}}]),t}(n.Component);var ie=Object(J.b)((function(e){return{passengerSeatMap:e.paxSeatMap.passengerSeatMap}}),(function(e){return{addToPaxSeatMap:function(t,a,n,r){return e(Q(t,a,n,r))},removeFromPaxSeatMap:function(t){return e(function(e){return{type:z,payload:{paxId:e}}}(t))}}}))(se),oe=function(){var e=m.a.SubMenu,t=o.a.Header,a=o.a.Content,n=o.a.Footer,l=o.a.Sider,c=Object(i.g)(),E=localStorage.getItem("role");return"staff"!==E?r.a.createElement(i.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(t,{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/admin"},"AIRLINE EXPRESS")),r.a.createElement(m.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},r.a.createElement(m.a.Item,{key:"3"},r.a.createElement(u.a,{onClick:function(){localStorage.removeItem("role"),c.push("/")}},r.a.createElement(h.a,{type:"logout"}),"Logout")))),r.a.createElement(a,{style:{padding:"0 50px"}},r.a.createElement(o.a,{style:{padding:"24px 0",background:"#fff"}},r.a.createElement(l,{width:200,style:{background:"#fff"},breakpoint:"sm",collapsedWidth:"0"},r.a.createElement(m.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%"}},r.a.createElement(e,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"user"}),"Check-In")},r.a.createElement(m.a.Item,{key:"1"},r.a.createElement(s.b,{to:"/staff/checkIn/flightList"},"Flight List")),r.a.createElement(m.a.Item,{key:"2"},r.a.createElement(s.b,{to:"/staff/checkIn/passengerList"},"Passenger List"))),r.a.createElement(e,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(h.a,{type:"shopping"}),"In-Flight")},r.a.createElement(m.a.Item,{key:"5"},r.a.createElement(s.b,{to:"/staff/inFlight"},"Flight List"))))),r.a.createElement(a,{style:{padding:"0 24px",minHeight:280}},r.a.createElement(p.a,null,r.a.createElement(d.a,{xs:24,lg:{span:4}},r.a.createElement("img",{alt:"example",src:"https://cdn2.iconfinder.com/data/icons/aviation-1/500/Aviation_designer-512.png",style:{width:"180px",height:"180px"}})),r.a.createElement(d.a,{xs:24,lg:{span:8}},r.a.createElement("div",{className:"role"},"WELCOME, ",E.toUpperCase()))),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/staff/checkIn/flightList",component:ee}),r.a.createElement(i.b,{path:"/staff/checkIn/managePassengers/:id",component:ae}),r.a.createElement(i.b,{path:"/staff/checkIn/seatMatrix/:pid/:id",component:ie}),r.a.createElement(i.b,{path:"/staff/checkIn/passengerList",component:b}),r.a.createElement(i.b,{exact:!0,path:"/staff/inFlight",component:ne}),r.a.createElement(i.b,{path:"/staff/inFlight/managePassengers/:id/:services",component:ae}),r.a.createElement(i.b,{path:"/staff/inFlight/flightServices/:id",component:le}))))),r.a.createElement(n,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")),",")},me=function(){return r.a.createElement("h2",null,"Oops! There is no page found.")};var ue=function(){return r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:q}),r.a.createElement(i.b,{path:"/admin",component:B}),r.a.createElement(i.b,{path:"/staff",component:oe}),r.a.createElement(i.b,{component:me})))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var de=a(50),Ee=a(172),ge={passengerSeatMap:[]};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye=Object(de.c)({paxSeatMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var a=e.passengerSeatMap.filter((function(e){return e.paxId!==t.payload.paxId}));return be({},e,{passengerSeatMap:[].concat(Object(Ee.a)(a),[{paxId:t.payload.paxId,seatNo:t.payload.seatNo,wheelChair:t.payload.wheelChair,infantFacility:t.payload.infantFacility}])});case z:var n=e.passengerSeatMap.filter((function(e){return e.paxId!==t.payload.paxId}));return be({},e,{passengerSeatMap:n});case $:console.log(e);return be({},e,{passengerSeatMap:[]});default:return e}}}),ve=a(170),Oe=a.n(ve),Se=a(171);var Ce=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d;return Object(de.e)(ye,e,t(Object(de.a)(Se.a,Oe()())))}(function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}());Ce.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log("local Storage failure")}}(Ce.getState())})),c.a.render(r.a.createElement(J.a,{store:Ce},r.a.createElement(s.a,null,r.a.createElement(ue,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");he?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(t,e)}))}}()}},[[177,1,2]]]);
//# sourceMappingURL=main.3464aaa3.chunk.js.map